(function(t){function e(e){for(var i,n,o=e[0],l=e[1],c=e[2],d=0,v=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&v.push(a[n][0]),a[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(v.length)v.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],i=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(i=!1)}i&&(r.splice(e--,1),t=n(n.s=s[0]))}return t}var i={},a={app:0},r=[];function n(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=i,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var i=s("85ec"),a=s.n(i);a.a},"0403":function(t,e,s){},5157:function(t,e,s){"use strict";var i=s("7cd5"),a=s.n(i);a.a},"56d7":function(t,e,s){"use strict";s.r(e),s.d(e,"router",(function(){return j}));s("caad"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],n={name:"App",components:{}},o=n,l=(s("034f"),s("2877")),c=Object(l["a"])(o,a,r,!1,null,null,null),u=c.exports,d=s("8c4f"),v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row app-mainDiv"},[s("div",{staticClass:"col-md-12 titleBox"},[s("h1",[t._v("Notes")]),s("a",{staticClass:"pull-right",attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("Logout")])]),s("div",{staticClass:"col-md-12 contentbox"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 col-sm-12 leftContentDiv"},[s("ul",{attrs:{id:"notelistingul"}},[0==t.allnotes.length?s("li",[t._v("No Records found")]):t._e(),t._l(t.allnotes,(function(e){return s("li",{key:e._id,staticClass:"noteList"},[s("div",{staticClass:"editNoteDiv",on:{click:function(s){return t.editNote(e._id)}}},[s("div",[s("strong",[t._v(t._s(e.title))]),s("div",{staticClass:"clear"})]),s("p",[t._v(t._s(e.description))])]),s("strong",{staticClass:"pull-right deleteNote",on:{click:function(s){return t.deleteNote(e._id)}}},[t._v("X")])])}))],2)]),s("div",{staticClass:"col-md-8 col-sm-12 rightContentDiv"},[s("button",{staticClass:"btn pull-right",on:{click:t.addNew}},[t._v("+ Add Note")]),s("div",{staticClass:"clear"}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.errMsg,expression:"errMsg"}],staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.errMsg))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.sucMsg,expression:"sucMsg"}],staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(t._s(t.sucMsg))]),s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"title"}},[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.title},attrs:{type:"text",id:"title",name:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.title,expression:"submitted && !title"}],staticClass:"invalid-feedback"},[t._v("Title is required")]),t.id?s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"hidden",id:"_id",name:"_id"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}):t._e()]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Body")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.description},attrs:{name:"description",id:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.description,expression:"submitted && !description"}],staticClass:"invalid-feedback"},[t._v("Description is required")])]),t._m(0)])])])])])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary pull-right"},[t._v("Save")]),s("div",{staticClass:"clear"})])}],m=(s("a4d3"),s("e01a"),s("7db0"),s("c740"),s("a434"),s("2909")),f=s("bc3a"),h=s.n(f),g={apiURL:"http://localhost:3000/api/",secret:"1A2AS5ADE6T"},b={data:function(){return{allnotes:[],title:"",description:"",id:"",errMsg:"",sucMsg:"",submitted:!1}},created:function(){var t=this,e=localStorage.getItem("usersec");h.a.post(g.apiURL+"notes",{token:e}).then((function(e){t.allnotes=e.data.notes})).catch((function(t){return console.log(t)}))},methods:{handleSubmit:function(){var t=this;this.submitted=!0;var e=this.title,s=this.description,i=localStorage.getItem("usersec");e&&s&&h.a.post(g.apiURL+"addnote",{token:i,title:e,description:s,id:this.id}).then((function(e){if(1==e.data.success){var s=Object(m["a"])(t.allnotes);if(""!=t.id){var i=t.id,a=s.findIndex((function(t){return t._id==i}));s[a]=e.data.note}else s.push(e.data.note);t.allnotes=s,t.sucMsg="record save successfully",t.resetForm()}else 0==e.data.auth?t.logout():t.errMsg="Server error"})).catch((function(t){return console.log(t)}))},addNew:function(){this.resetForm(),this.errMsg="",this.sucMsg=""},resetForm:function(){this.title="",this.description="",this.id="",this.submitted=!1},editNote:function(t){var e=Object(m["a"])(this.allnotes),s=e.find((function(e){return e._id==t}));s&&(this.title=s.title,this.description=s.description,this.id=s._id)},deleteNote:function(t){var e=this,s=localStorage.getItem("usersec");h.a.post(g.apiURL+"deletenote",{token:s,id:t}).then((function(s){if(1==s.data.success){var i=Object(m["a"])(e.allnotes),a=i.findIndex((function(e){return e._id==t}));a>-1&&i.splice(a,1),e.allnotes=i,e.sucMsg=s.data.message,e.resetForm()}else 0==s.data.auth?e.logout():e.errMsg="Server error"})).catch((function(t){return console.log(t)}))},logout:function(){localStorage.clear(),this.$router.push("/login")}}},w=b,_=(s("a3bb"),s("6221"),Object(l["a"])(w,v,p,!1,null,"7b95a305",null)),C=_.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"myForm"},[s("h2",[t._v("Login")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.errMsg,expression:"errMsg"}],staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.errMsg))]),s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[t._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&(!t.username||!t.emailvalidation)},attrs:{type:"email",id:"username",name:"username"},domProps:{value:t.username},on:{change:t.validEmail,input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&(!t.username||!t.emailvalidation),expression:"submitted && (!username|| !emailvalidation)"}],staticClass:"invalid-feedback"},[t._v(t._s(t.emailMessage))])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.password},attrs:{type:"password",name:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.password,expression:"submitted && !password"}],staticClass:"invalid-feedback"},[t._v("Password is required")])]),t._m(0)])])])},x=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary"},[t._v("Login")])])}],M={data:function(){return{username:"",password:"",submitted:!1,errMsg:"",emailvalidation:null,emailMessage:"Username is required"}},created:function(){},methods:{handleSubmit:function(){var t=this;this.submitted=!0;var e=this.username,s=this.password;e&&s&&h.a.post(g.apiURL+"login",{username:e,password:s}).then((function(e){1==e.data.success?(localStorage.setItem("usersec",e.data.token),t.$router.push("/")):t.errMsg=e.data.message})).catch((function(t){return console.log(t)}))},validEmail:function(){var t=this.username,e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;this.emailvalidation=e.test(t),this.emailvalidation||(this.emailMessage="Kindly provide valid email")}}},N=M,S=(s("5157"),Object(l["a"])(N,y,x,!1,null,"56d0c78b",null)),O=S.exports;i["a"].use(d["a"]);var j=new d["a"]({mode:"history",routes:[{path:"/",component:C},{path:"/home",component:C},{path:"/login",component:O},{path:"*",redirect:"/"}]});j.beforeEach((function(t,e,s){var i=["/login"],a=!i.includes(t.path),r=localStorage.getItem("usersec");return a&&!r?s("/login"):!a&&r?s("/"):void s()})),i["a"].config.productionTip=!1,new i["a"]({el:"#app",router:j,render:function(t){return t(u)}})},6221:function(t,e,s){"use strict";var i=s("0403"),a=s.n(i);a.a},"7cd5":function(t,e,s){},"85ec":function(t,e,s){},"96b4":function(t,e,s){},a3bb:function(t,e,s){"use strict";var i=s("96b4"),a=s.n(i);a.a}});
//# sourceMappingURL=app.abe0466e.js.map