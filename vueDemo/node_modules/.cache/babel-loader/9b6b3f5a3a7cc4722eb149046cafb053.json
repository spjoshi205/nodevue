{"remainingRequest":"/var/www/html/nodevue/vueDemo/node_modules/babel-loader/lib/index.js!/var/www/html/nodevue/vueDemo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/nodevue/vueDemo/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/nodevue/vueDemo/src/components/LoginPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/nodevue/vueDemo/src/components/LoginPage.vue","mtime":1588652515913},{"path":"/var/www/html/nodevue/vueDemo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/nodevue/vueDemo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/nodevue/vueDemo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/nodevue/vueDemo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IENPTlNUIGZyb20gJy4uL2NvbnN0JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgZXJyTXNnOiAnJywKICAgICAgZXJyTXNnQXJyOiBbXSwKICAgICAgZW1haWx2YWxpZGF0aW9uOiBudWxsLAogICAgICBlbWFpbE1lc3NhZ2U6ICdVc2VybmFtZSBpcyByZXF1aXJlZCcKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICAgIHZhciB1c2VybmFtZSA9IHRoaXMudXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZCA9IHRoaXMucGFzc3dvcmQ7CgogICAgICBpZiAodXNlcm5hbWUgJiYgcGFzc3dvcmQpIHsKICAgICAgICBheGlvcy5wb3N0KENPTlNULmFwaVVSTCArICdsb2dpbicsIHsKICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09IHRydWUpIHsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJzZWMnLCByZXNwb25zZS5kYXRhLnRva2VuKTsKCiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuZXJyTXNnQXJyID0gW107CiAgICAgICAgICAgIF90aGlzLmVyck1zZyA9ICcnOwoKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZUFycikgewogICAgICAgICAgICAgIF90aGlzLmVyck1zZ0FyciA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZUFycjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZSkgewogICAgICAgICAgICAgIF90aGlzLmVyck1zZyA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdmFsaWRFbWFpbDogZnVuY3Rpb24gdmFsaWRFbWFpbCgpIHsKICAgICAgdmFyIGVtYWlsID0gdGhpcy51c2VybmFtZTsKICAgICAgdmFyIHJlID0gL14oKFtePD4oKVtcXVxcLiw7OlxzQCJdKyhcLltePD4oKVtcXVxcLiw7OlxzQCJdKykqKXwoIi4rIikpQCgoXFtbMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XF0pfCgoW2EtekEtWlwtMC05XStcLikrW2EtekEtWl17Mix9KSkkLzsKICAgICAgdGhpcy5lbWFpbHZhbGlkYXRpb24gPSByZS50ZXN0KGVtYWlsKTsKCiAgICAgIGlmICghdGhpcy5lbWFpbHZhbGlkYXRpb24pIHsKICAgICAgICB0aGlzLmVtYWlsTWVzc2FnZSA9ICdLaW5kbHkgcHJvdmlkZSB2YWxpZCBlbWFpbCc7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["LoginPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,KAAA,MAAA,UAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,KAHA;AAIA,MAAA,MAAA,EAAA,EAJA;AAKA,MAAA,SAAA,EAAA,EALA;AAMA,MAAA,eAAA,EAAA,IANA;AAOA,MAAA,YAAA,EAAA;AAPA,KAAA;AASA,GAXA;AAYA,EAAA,OAZA,qBAYA,CACA,CAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AADA,UAEA,QAFA,GAEA,IAFA,CAEA,QAFA;AAAA,UAEA,QAFA,GAEA,IAFA,CAEA,QAFA;;AAGA,UAAA,QAAA,IAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,GAAA,OAAA,EAAA;AAAA,UAAA,QAAA,EAAA,QAAA;AAAA,UAAA,QAAA,EAAA;AAAA,SAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,OAAA,IAAA,IAAA,EAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,SAAA,EAAA,QAAA,CAAA,IAAA,CAAA,KAAA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,WAHA,MAGA;AACA,YAAA,KAAA,CAAA,SAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,GAAA,EAAA;;AACA,gBAAA,QAAA,CAAA,IAAA,CAAA,UAAA,EAAA;AACA,cAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA;AACA;;AACA,gBAAA,QAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,cAAA,KAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA;AACA,SAfA,EAgBA,KAhBA,CAgBA,UAAA,GAAA;AAAA,iBAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AAAA,SAhBA;AAiBA;AACA,KAvBA;AAwBA,IAAA,UAAA,EAAA,sBAAA;AACA,UAAA,KAAA,GAAA,KAAA,QAAA;AACA,UAAA,EAAA,GAAA,uJAAA;AACA,WAAA,eAAA,GAAA,EAAA,CAAA,IAAA,CAAA,KAAA,CAAA;;AACA,UAAA,CAAA,KAAA,eAAA,EAAA;AACA,aAAA,YAAA,GAAA,4BAAA;AACA;AACA;AA/BA;AAdA,CAAA","sourcesContent":["<template>\n    <div>\n\t\t<div class=\"myForm\">\n\t\t\t<h2>Login</h2>\n\t\t\t<div v-show=\"errMsg\" class=\"alert alert-danger\" role=\"alert\">{{errMsg}}</div>\n\t\t\t<div v-for=\"err in errMsgArr\" v-bind:key=\"err.param\" class=\"alert alert-danger\" role=\"alert\">{{err.msg}}</div>\n\t\t\t<form @submit.prevent=\"handleSubmit\">\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"username\">Username</label>\n\t\t\t\t\t<input type=\"email\" v-model=\"username\" id=\"username\" name=\"username\" class=\"form-control\" :class=\"{ 'is-invalid': submitted && (!username || !emailvalidation) }\" @change=\"validEmail\" />\n\t\t\t\t\t<div v-show=\"submitted && (!username|| !emailvalidation)\" class=\"invalid-feedback\">{{emailMessage}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"password\">Password</label>\n\t\t\t\t\t<input type=\"password\" v-model=\"password\" name=\"password\" id=\"password\" class=\"form-control\" :class=\"{ 'is-invalid': submitted && !password }\" />\n\t\t\t\t\t<div v-show=\"submitted && !password\" class=\"invalid-feedback\">Password is required</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<button class=\"btn btn-primary\">Login</button>&nbsp;\n\t\t\t\t\t<a class=\"btn btn-primary\" href=\"/register\">Register</a>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport CONST from '../const'\n\nexport default {\n    data () {\n        return {\n            username: '',\n            password: '',\n            submitted: false,\n            errMsg : '',\n            errMsgArr : [],\n            emailvalidation : null,\n            emailMessage : 'Username is required'\n        }\n    },\n    created () {\n    },\n    methods: {\n        handleSubmit () {\n            this.submitted = true;\n            const { username, password } = this;\n            if (username && password) {\n\t\t\t\taxios.post(CONST.apiURL+'login', {username:username,password:password})\n\t\t\t\t.then(response => {\n\t\t\t\t\tif(response.data.success == true){\n\t\t\t\t\t\tlocalStorage.setItem('usersec', response.data.token);\n\t\t\t\t\t\tthis.$router.push('/')\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.errMsgArr = [];\n\t\t\t\t\t\tthis.errMsg = '';\n\t\t\t\t\t\tif(response.data.messageArr){\n\t\t\t\t\t\t\tthis.errMsgArr = response.data.messageArr;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(response.data.message){\n\t\t\t\t\t\t\tthis.errMsg = response.data.message;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err));\n            }\n        },\n        validEmail: function () {\n\t\t\tlet email = this.username;\n\t\t\tvar re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\t\tthis.emailvalidation = re.test(email);\n\t\t\tif(!this.emailvalidation){\n\t\t\t\tthis.emailMessage = 'Kindly provide valid email';\n\t\t\t}\n\t\t}\n    }\n};\n</script>\n<style scoped>\n.myForm {\n  max-width: 400px;\n  margin:auto;\n}\n</style>\n"],"sourceRoot":"src/components"}]}