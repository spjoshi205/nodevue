{"remainingRequest":"/var/www/html/nodevue/vueDemo/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/nodevue/vueDemo/src/components/ProfilePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/nodevue/vueDemo/src/components/ProfilePage.vue","mtime":1588683477158},{"path":"/var/www/html/nodevue/vueDemo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/nodevue/vueDemo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/nodevue/vueDemo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/nodevue/vueDemo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBDT05TVCBmcm9tICcuLi9jb25zdCcKaW1wb3J0IE1lbnVDb250ZW50IGZyb20gJy4vbWVudScKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CgkJCXVzZXJuYW1lOiAnJywKICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAoJCQluYW1lOiAnJywKCQkJcGhvbmU6ICcnLAoJCQlpbWFnZTogJycsCgkJCXByb2ZpbGVJbWFnZTogJycsCiAgICAgICAgICAgIHN1Ym1pdHRlZDogZmFsc2UsCiAgICAgICAgICAgIGVyck1zZyA6ICcnLAoJCQl0b2tlbiA6ICcnLAoJCQlzdWNNc2cgOiAnJywKICAgICAgICAgICAgZXJyTXNnQXJyIDogW10sCiAgICAgICAgICAgIGVtYWlsdmFsaWRhdGlvbiA6IHRydWUsCiAgICAgICAgICAgIGVtYWlsTWVzc2FnZSA6ICdVc2VybmFtZSBpcyByZXF1aXJlZCcKICAgICAgICB9CiAgICB9LAoJY29tcG9uZW50cyA6ewoJCU1lbnVDb250ZW50Cgl9LAogICAgY3JlYXRlZCAoKSB7CgkJY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcnNlYycpOwoJCXRoaXMudG9rZW4gPSB0b2tlbjsKCQl0aGlzLmxvYWRQcm9maWxlRGF0YSgpOwogICAgfSwKICAgIG1ldGhvZHM6IHsKCQlvbkltYWdlQ2hhbmdlKGUpewoJCQljb25zb2xlLmxvZyhlLnRhcmdldC5maWxlc1swXSk7CgkJCXRoaXMuaW1hZ2UgPSBlLnRhcmdldC5maWxlc1swXTsKCQl9LAoJCWZvcm1TdWJtaXQgKGUpIHsKCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQljb25zdCBjb25maWcgPSB7CgkJCQloZWFkZXJzOiB7ICdjb250ZW50LXR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfQoJCQl9CgkJCWxldCB1c2VybmFtZSA9IHRoaXMudXNlcm5hbWU7CgkJCWxldCBuYW1lID0gdGhpcy5uYW1lOwoJCQlsZXQgcGhvbmUgPSB0aGlzLnBob25lOwoJCQlsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKCQkJZm9ybURhdGEuYXBwZW5kKCdpbWFnZScsIHRoaXMuaW1hZ2UpOwoJCQlmb3JtRGF0YS5hcHBlbmQoJ3VzZXJuYW1lJyx1c2VybmFtZSk7CgkJCWZvcm1EYXRhLmFwcGVuZCgncGFzc3dvcmQnLHRoaXMucGFzc3dvcmQpOwoJCQlmb3JtRGF0YS5hcHBlbmQoJ25hbWUnLG5hbWUpOwoJCQlmb3JtRGF0YS5hcHBlbmQoJ3Bob25lJyxwaG9uZSk7CgkJCWZvcm1EYXRhLmFwcGVuZCgndG9rZW4nLHRoaXMudG9rZW4pOwogICAgICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CgkJCXRoaXMuc3VjTXNnID0gJyc7CgkJCXRoaXMuZXJyTXNnID0gJyc7CgkJCWlmICh1c2VybmFtZSAmJiBuYW1lICYmIHBob25lKSB7CgkJCQlheGlvcy5wb3N0KENPTlNULmFwaVVSTCsndXBkYXRlcHJvZmlsZScsIGZvcm1EYXRhLCBjb25maWcpCgkJCQkudGhlbihyZXNwb25zZSA9PiB7CgkJCQkJY29uc29sZS5sb2cocmVzcG9uc2UpOwoJCQkJCWlmKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PSB0cnVlKXsKCQkJCQkJdGhpcy5zdWNNc2cgPSByZXNwb25zZS5kYXRhLm1lc3NhZ2U7CgkJCQkJCXRoaXMubG9hZFByb2ZpbGVEYXRhKCk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJaWYocmVzcG9uc2UuZGF0YS5hdXRoID09IGZhbHNlKXsKCQkJCQkJCXRoaXMubG9nb3V0KCk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQl0aGlzLmVyck1zZyA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0pCgkJCQkuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpOwoJCQl9CiAgICAgICAgfSwKICAgICAgICB2YWxpZEVtYWlsOiBmdW5jdGlvbiAoKSB7CgkJCWxldCBlbWFpbCA9IHRoaXMudXNlcm5hbWU7CgkJCXZhciByZSA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CgkJCXRoaXMuZW1haWx2YWxpZGF0aW9uID0gcmUudGVzdChlbWFpbCk7CgkJCWlmKCF0aGlzLmVtYWlsdmFsaWRhdGlvbil7CgkJCQl0aGlzLmVtYWlsTWVzc2FnZSA9ICdLaW5kbHkgcHJvdmlkZSB2YWxpZCBlbWFpbCc7CgkJCX0KCQl9LAoJCWxvYWRQcm9maWxlRGF0YSA6IGZ1bmN0aW9uKCl7CgkJCWF4aW9zLnBvc3QoQ09OU1QuYXBpVVJMKydnZXRQcm9maWxlJywge3Rva2VuOnRoaXMudG9rZW59KQoJCQkudGhlbihyZXNwb25zZSA9PiB7CgkJCQlpZihyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT0gdHJ1ZSl7CgkJCQkJbGV0IHVzZXJkZXRhaWwgPSByZXNwb25zZS5kYXRhLnVzZXJkZXRhaWw7CgkJCQkJdGhpcy51c2VybmFtZSA9IHVzZXJkZXRhaWwudXNlcmVtYWlsOwoJCQkJCXRoaXMubmFtZSA9IHVzZXJkZXRhaWwubmFtZTsKCQkJCQl0aGlzLnBob25lID0gdXNlcmRldGFpbC5waG9uZTsKCQkJCQl0aGlzLnByb2ZpbGVJbWFnZSA9IENPTlNULmFwaVVSTCt1c2VyZGV0YWlsLmltYWdlOwoJCQkJfSBlbHNlIHsKCQkJCQlpZihyZXNwb25zZS5kYXRhLmF1dGggPT0gZmFsc2UpewoJCQkJCQl0aGlzLmxvZ291dCgpOwoJCQkJCX0KCQkJCX0KCQkJfSkKCQkJLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTsKCQl9LAoJCWdldHByb2ZpbGVJbWFnZSA6IGZ1bmN0aW9uKCl7CgkJCXJldHVybiB0aGlzLnByb2ZpbGVJbWFnZTsKCQl9CiAgICB9Cn07Cg=="},{"version":3,"sources":["ProfilePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProfilePage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"row app-mainDiv\">\n\t\t<menu-content title=\"Profile\" currentpage=\"profile\"></menu-content>\n\t\t<div class=\"col-md-12 contentbox\">\n\t\t<img v-show=\"profileImage\" v-bind:src=\"profileImage\" title=\"profile image\" class=\"profileImagecls\" />\n\t\t<div class=\"myForm\">\n\t\t\t<h2>Update Profile</h2>\n\t\t\t<div v-show=\"sucMsg\" class=\"alert alert-success\" role=\"alert\">{{sucMsg}}</div>\n\t\t\t<div v-show=\"errMsg\" class=\"alert alert-danger\" role=\"alert\">{{errMsg}}</div>\n\t\t\t<div v-for=\"err in errMsgArr\" v-bind:key=\"err.param\" class=\"alert alert-danger\" role=\"alert\">{{err.msg}}</div>\n\t\t\t<form @submit=\"formSubmit\" enctype=\"multipart/form-data\">\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"name\">Name</label>\n\t\t\t\t\t<input type=\"text\" v-model=\"name\" id=\"name\" name=\"name\" class=\"form-control\" :class=\"{ 'is-invalid': submitted && (!name) }\" />\n\t\t\t\t\t<div v-show=\"submitted && (!name)\" class=\"invalid-feedback\">Name is required</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"username\">Email</label>\n\t\t\t\t\t<input type=\"email\" v-model=\"username\" id=\"username\" name=\"username\" class=\"form-control\" :class=\"{ 'is-invalid': submitted && (!username || !emailvalidation) }\" @change=\"validEmail\" />\n\t\t\t\t\t<div v-show=\"submitted && (!username|| !emailvalidation)\" class=\"invalid-feedback\">{{emailMessage}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"password\">Password</label>\n\t\t\t\t\t<input type=\"password\" v-model=\"password\" name=\"password\" id=\"password\" class=\"form-control\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"password\">Profile</label>\n\t\t\t\t\t<input type=\"file\" class=\"form-control\" v-on:change=\"onImageChange\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"phone\">Phone</label>\n\t\t\t\t\t<input type=\"text\" v-model=\"phone\" name=\"phone\" id=\"phone\" class=\"form-control\" :class=\"{ 'is-invalid': submitted && !phone }\" />\n\t\t\t\t\t<div v-show=\"submitted && !phone\" class=\"invalid-feedback\">Phone is required</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<button class=\"btn btn-primary\">Update</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport CONST from '../const'\nimport MenuContent from './menu'\n\nexport default {\n    data () {\n        return {\n\t\t\tusername: '',\n            password: '',\n\t\t\tname: '',\n\t\t\tphone: '',\n\t\t\timage: '',\n\t\t\tprofileImage: '',\n            submitted: false,\n            errMsg : '',\n\t\t\ttoken : '',\n\t\t\tsucMsg : '',\n            errMsgArr : [],\n            emailvalidation : true,\n            emailMessage : 'Username is required'\n        }\n    },\n\tcomponents :{\n\t\tMenuContent\n\t},\n    created () {\n\t\tconst token = localStorage.getItem('usersec');\n\t\tthis.token = token;\n\t\tthis.loadProfileData();\n    },\n    methods: {\n\t\tonImageChange(e){\n\t\t\tconsole.log(e.target.files[0]);\n\t\t\tthis.image = e.target.files[0];\n\t\t},\n\t\tformSubmit (e) {\n\t\t\te.preventDefault();\n\t\t\tconst config = {\n\t\t\t\theaders: { 'content-type': 'multipart/form-data' }\n\t\t\t}\n\t\t\tlet username = this.username;\n\t\t\tlet name = this.name;\n\t\t\tlet phone = this.phone;\n\t\t\tlet formData = new FormData();\n\t\t\tformData.append('image', this.image);\n\t\t\tformData.append('username',username);\n\t\t\tformData.append('password',this.password);\n\t\t\tformData.append('name',name);\n\t\t\tformData.append('phone',phone);\n\t\t\tformData.append('token',this.token);\n            this.submitted = true;\n\t\t\tthis.sucMsg = '';\n\t\t\tthis.errMsg = '';\n\t\t\tif (username && name && phone) {\n\t\t\t\taxios.post(CONST.apiURL+'updateprofile', formData, config)\n\t\t\t\t.then(response => {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\tif(response.data.success == true){\n\t\t\t\t\t\tthis.sucMsg = response.data.message;\n\t\t\t\t\t\tthis.loadProfileData();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(response.data.auth == false){\n\t\t\t\t\t\t\tthis.logout();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.errMsg = response.data.message;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err));\n\t\t\t}\n        },\n        validEmail: function () {\n\t\t\tlet email = this.username;\n\t\t\tvar re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\t\tthis.emailvalidation = re.test(email);\n\t\t\tif(!this.emailvalidation){\n\t\t\t\tthis.emailMessage = 'Kindly provide valid email';\n\t\t\t}\n\t\t},\n\t\tloadProfileData : function(){\n\t\t\taxios.post(CONST.apiURL+'getProfile', {token:this.token})\n\t\t\t.then(response => {\n\t\t\t\tif(response.data.success == true){\n\t\t\t\t\tlet userdetail = response.data.userdetail;\n\t\t\t\t\tthis.username = userdetail.useremail;\n\t\t\t\t\tthis.name = userdetail.name;\n\t\t\t\t\tthis.phone = userdetail.phone;\n\t\t\t\t\tthis.profileImage = CONST.apiURL+userdetail.image;\n\t\t\t\t} else {\n\t\t\t\t\tif(response.data.auth == false){\n\t\t\t\t\t\tthis.logout();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\t\t},\n\t\tgetprofileImage : function(){\n\t\t\treturn this.profileImage;\n\t\t}\n    }\n};\n</script>\n<style>\n#app{\n\toverflow:hidden\n}\n</style>\n<style scoped>\n.titleBox {\n  background-color:#f8f8f8;\n  padding:10px 30px;\n  border-bottom:1px solid #999;\n}\n.contentbox{\n\tpadding:0px 30px;\n}\n.pull-right{\n\tfloat:right;\n}\n.clear{\n\tclear:both;\n}\n.rightContentDiv{\n\tpadding-top:10px;\n\tborder-left:1px solid #999;\n}\n#description{\n\theight: 200px;\n}\n#notelistingul{\n\tmargin: 0;\n    padding: 0;\n    list-style: none;\n    max-height:500px;\n    overflow:auto;\n}\n.noteList{\n\tposition:relative;\n\tborder-bottom:1px solid #999;\n}\n.editNoteDiv{\ncursor:pointer;\n}\n.deleteNote{\n\tposition:absolute;\n\tright:0;\n\ttop:0;\n\tcursor:pointer;\n}\n.myForm {\n  max-width: 400px;\n  margin:auto;\n}\n.profileImagecls{\n\tmax-width:150px;\n}\n</style>"]}]}