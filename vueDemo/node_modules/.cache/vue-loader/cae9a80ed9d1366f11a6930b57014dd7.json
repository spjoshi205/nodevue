{"remainingRequest":"/var/www/html/nodevue/vueDemo/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/nodevue/vueDemo/src/components/RegisterPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/nodevue/vueDemo/src/components/RegisterPage.vue","mtime":1588675702148},{"path":"/var/www/html/nodevue/vueDemo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/nodevue/vueDemo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/nodevue/vueDemo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/nodevue/vueDemo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBDT05TVCBmcm9tICcuLi9jb25zdCcKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAoJCQluYW1lOiAnJywKCQkJcGhvbmU6ICcnLAogICAgICAgICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICAgICAgICBlcnJNc2cgOiAnJywKICAgICAgICAgICAgZXJyTXNnQXJyIDogW10sCiAgICAgICAgICAgIGVtYWlsdmFsaWRhdGlvbiA6IG51bGwsCiAgICAgICAgICAgIGVtYWlsTWVzc2FnZSA6ICdVc2VybmFtZSBpcyByZXF1aXJlZCcKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCAoKSB7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGhhbmRsZVN1Ym1pdCAoKSB7CiAgICAgICAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKICAgICAgICAgICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQsbmFtZSxwaG9uZSB9ID0gdGhpczsKICAgICAgICAgICAgaWYgKHVzZXJuYW1lICYmIHBhc3N3b3JkICYmIG5hbWUgJiYgcGhvbmUpIHsKCQkJCWF4aW9zLnBvc3QoQ09OU1QuYXBpVVJMKydyZWdpc3RlcicsIHt1c2VybmFtZTp1c2VybmFtZSxwYXNzd29yZDpwYXNzd29yZCxuYW1lOm5hbWUscGhvbmU6cGhvbmV9KQoJCQkJLnRoZW4ocmVzcG9uc2UgPT4gewoJCQkJCWlmKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PSB0cnVlKXsKCQkJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJzZWMnLCByZXNwb25zZS5kYXRhLnRva2VuKTsKCQkJCQkJdGhpcy4kcm91dGVyLnB1c2goJy8nKQoJCQkJCX0gZWxzZSB7CgkJCQkJCXRoaXMuZXJyTXNnQXJyID0gW107CgkJCQkJCXRoaXMuZXJyTXNnID0gJyc7CgkJCQkJCWlmKHJlc3BvbnNlLmRhdGEubWVzc2FnZUFycil7CgkJCQkJCQl0aGlzLmVyck1zZ0FyciA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZUFycjsKCQkJCQkJfQoJCQkJCQlpZihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpewoJCQkJCQkJdGhpcy5lcnJNc2cgPSByZXNwb25zZS5kYXRhLm1lc3NhZ2U7CgkJCQkJCX0KCQkJCQl9CgkJCQl9KQoJCQkJLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgdmFsaWRFbWFpbDogZnVuY3Rpb24gKCkgewoJCQlsZXQgZW1haWwgPSB0aGlzLnVzZXJuYW1lOwoJCQl2YXIgcmUgPSAvXigoW148PigpW1xdXFwuLDs6XHNAIl0rKFwuW148PigpW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvOwoJCQl0aGlzLmVtYWlsdmFsaWRhdGlvbiA9IHJlLnRlc3QoZW1haWwpOwoJCQlpZighdGhpcy5lbWFpbHZhbGlkYXRpb24pewoJCQkJdGhpcy5lbWFpbE1lc3NhZ2UgPSAnS2luZGx5IHByb3ZpZGUgdmFsaWQgZW1haWwnOwoJCQl9CgkJfQogICAgfQp9Owo="},{"version":3,"sources":["RegisterPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RegisterPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n\t\t<div class=\"myForm\">\n\t\t\t<h2>Register</h2>\n\t\t\t<div v-show=\"errMsg\" class=\"alert alert-danger\" role=\"alert\">{{errMsg}}</div>\n\t\t\t<div v-for=\"err in errMsgArr\" v-bind:key=\"err.param\" class=\"alert alert-danger\" role=\"alert\">{{err.msg}}</div>\n\t\t\t<form @submit.prevent=\"handleSubmit\">\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"name\">Name</label>\n\t\t\t\t\t<input type=\"text\" v-model=\"name\" id=\"name\" name=\"name\" class=\"form-control\" :class=\"{ 'is-invalid': submitted && (!name) }\" />\n\t\t\t\t\t<div v-show=\"submitted && (!name)\" class=\"invalid-feedback\">Name is required</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"username\">Email</label>\n\t\t\t\t\t<input type=\"email\" v-model=\"username\" id=\"username\" name=\"username\" class=\"form-control\" :class=\"{ 'is-invalid': submitted && (!username || !emailvalidation) }\" @change=\"validEmail\" />\n\t\t\t\t\t<div v-show=\"submitted && (!username|| !emailvalidation)\" class=\"invalid-feedback\">{{emailMessage}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"password\">Password</label>\n\t\t\t\t\t<input type=\"password\" v-model=\"password\" name=\"password\" id=\"password\" class=\"form-control\" :class=\"{ 'is-invalid': submitted && !password }\" />\n\t\t\t\t\t<div v-show=\"submitted && !password\" class=\"invalid-feedback\">Password is required</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"phone\">Phone</label>\n\t\t\t\t\t<input type=\"text\" v-model=\"phone\" name=\"phone\" id=\"phone\" class=\"form-control\" :class=\"{ 'is-invalid': submitted && !phone }\" />\n\t\t\t\t\t<div v-show=\"submitted && !phone\" class=\"invalid-feedback\">Phone is required</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<button class=\"btn btn-primary\">Register</button>&nbsp;\n\t\t\t\t\t<a class=\"btn btn-primary\" href=\"/login\">Login</a>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport CONST from '../const'\n\nexport default {\n    data () {\n        return {\n            username: '',\n            password: '',\n\t\t\tname: '',\n\t\t\tphone: '',\n            submitted: false,\n            errMsg : '',\n            errMsgArr : [],\n            emailvalidation : null,\n            emailMessage : 'Username is required'\n        }\n    },\n    created () {\n    },\n    methods: {\n        handleSubmit () {\n            this.submitted = true;\n            const { username, password,name,phone } = this;\n            if (username && password && name && phone) {\n\t\t\t\taxios.post(CONST.apiURL+'register', {username:username,password:password,name:name,phone:phone})\n\t\t\t\t.then(response => {\n\t\t\t\t\tif(response.data.success == true){\n\t\t\t\t\t\tlocalStorage.setItem('usersec', response.data.token);\n\t\t\t\t\t\tthis.$router.push('/')\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.errMsgArr = [];\n\t\t\t\t\t\tthis.errMsg = '';\n\t\t\t\t\t\tif(response.data.messageArr){\n\t\t\t\t\t\t\tthis.errMsgArr = response.data.messageArr;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(response.data.message){\n\t\t\t\t\t\t\tthis.errMsg = response.data.message;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err));\n            }\n        },\n        validEmail: function () {\n\t\t\tlet email = this.username;\n\t\t\tvar re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\t\tthis.emailvalidation = re.test(email);\n\t\t\tif(!this.emailvalidation){\n\t\t\t\tthis.emailMessage = 'Kindly provide valid email';\n\t\t\t}\n\t\t}\n    }\n};\n</script>\n<style scoped>\n.myForm {\n  max-width: 400px;\n  margin:auto;\n}\n</style>\n"]}]}